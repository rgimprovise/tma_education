# ะะฑะฝะพะฒะปะตะฝะธะต: ะะฐะฒะธะณะฐัะธั ะดะปั ะบััะฐัะพัะพะฒ ะธ ะดะฐัะฑะพัะด ะบัััะพะฒ

## ะะฑะทะพั ะธะทะผะตะฝะตะฝะธะน

ะะตัะตัะฐะฑะพัะฐะฝะฐ ะฝะฐะฒะธะณะฐัะธั ะดะปั ะบััะฐัะพัะพะฒ/ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ:
- **ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ** ะดะปั ะบััะฐัะพัะพะฒ ัะตะฟะตัั โ ะดะฐัะฑะพัะด ะบัััะพะฒ
- ะะพะฑะฐะฒะปะตะฝะฐ **ัะฐะฑ-ะฝะฐะฒะธะณะฐัะธั** ะดะปั ะฟะตัะตะบะปััะตะฝะธั ะผะตะถะดั ัะฐะทะดะตะปะฐะผะธ
- ะะพะฑะฐะฒะปะตะฝ **ะดะตัะฐะปัะฝัะน ะดะฐัะฑะพัะด ะบัััะฐ** ัะพ ััะฐัะธััะธะบะพะน
- ะฃะปัััะตะฝ UX ั ะตะดะธะฝะพะพะฑัะฐะทะฝะพะน ะฝะฐะฒะธะณะฐัะธะตะน

---

## ะะพะฒะฐั ััััะบัััะฐ ะฝะฐะฒะธะณะฐัะธะธ ะดะปั ะบััะฐัะพัะพะฒ

### ะะบะปะฐะดะบะธ (ะฒัะตะณะดะฐ ะฒะธะดะฝั ัะฒะตััั):

1. **๐ ะัััั** (`/curator/courses`) โ **ะณะปะฐะฒะฝะฐั ะฒะบะปะฐะดะบะฐ**
   - ะกะฟะธัะพะบ ะฒัะตั ะบัััะพะฒ-ะผะพะดัะปะตะน ะฒ ะฒะธะดะต ะบะฐััะพัะตะบ
   - ะกัะฐัะธััะธะบะฐ: ะบะพะปะธัะตััะฒะพ ัะฐะณะพะฒ, ััะฐััะฝะธะบะพะฒ
   - ะะฝะพะฟะบะฐ "ะกะพะทะดะฐัั ะบััั"

2. **๐ฅ ะะฑััะฐััะธะตัั** (`/curator`)
   - ะกะฟะธัะพะบ ะฒัะตั ะพะฑััะฐััะธััั
   - ะัะพะณัะตัั ะฟะพ ะผะพะดัะปัะผ
   - ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพัััะฟะพะผ

3. **๐ง ะะพะฝััััะบัะพั** (`/curator/course`)
   - ะะปะพะฑะฐะปัะฝัะน ะบะพะฝััััะบัะพั ะบัััะฐ
   - CRUD ะพะฟะตัะฐัะธะธ ะฝะฐะด ะผะพะดัะปัะผะธ ะธ ัะฐะณะฐะผะธ

---

## ะะพะฒัะต ัะบัะฐะฝั

### 1. CuratorCoursesDashboardPage (`/curator/courses`)

**ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- ะะฐะฟัะพั `GET /admin/course/modules` ะดะปั ะฟะพะปััะตะฝะธั ัะฟะธัะบะฐ ะบัััะพะฒ
- ะัะพะฑัะฐะถะตะฝะธะต ะบะฐััะพัะตะบ ะบัััะพะฒ:
  - ะะฐะทะฒะฐะฝะธะต ะธ ะพะฟะธัะฐะฝะธะต
  - ะะฝะดะตะบั ะผะพะดัะปั
  - ะะฝะดะธะบะฐัะพั ัะบะทะฐะผะตะฝะฐ (๐) ะธะปะธ ะพะฑััะฝะพะณะพ ะผะพะดัะปั (๐)
  - ะะพะปะธัะตััะฒะพ ัะฐะณะพะฒ (`stepsCount`)
  - ะะพะปะธัะตััะฒะพ ััะฐััะฝะธะบะพะฒ (`enrollmentsCount`)
- ะะฝะพะฟะบะฐ "โ ะกะพะทะดะฐัั ะบััั" โ `/curator/course/modules/new`
- ะะปะธะบ ะฝะฐ ะบะฐััะพัะบั โ `/curator/courses/:moduleId`

**ะัะธะผะตั ะบะฐััะพัะบะธ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะะพะดัะปั 1: ะะฒะตะดะตะฝะธะต ะฒ ะฟะธัะฐะผะธะดั ะะธะฝัะพ โ ะะพะดัะปั 1
โ                                        โ
โ ะะพะทะฝะฐะบะพะผััะตัั ั ะพัะฝะพะฒะฐะผะธ ะฟัะธะฝัะธะฟะฐ...   โ
โ                                        โ
โ ๐ 6 ัะฐะณะพะฒ    ๐ฅ 5 ััะฐััะฝะธะบะพะฒ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 2. CourseDashboardPage (`/curator/courses/:moduleId`)

**ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:**
- ะะฐะฟัะพั `GET /admin/course/modules/:id` ะดะปั ะธะฝัะพัะผะฐัะธะธ ะพ ะบัััะต
- ะะฐะฟัะพั `GET /admin/course/modules/:id/steps` ะดะปั ัะฟะธัะบะฐ ัะฐะณะพะฒ
- ะะฐะฟัะพั `GET /admin/learners` ะดะปั ะฟะพะดััััะฐ ััะฐัะธััะธะบะธ
- ะัะพะฑัะฐะถะตะฝะธะต:
  - ะะฐะณะพะปะพะฒะพะบ ั ะฝะฐะทะฒะฐะฝะธะตะผ ะบัััะฐ ะธ ะผะตัะฐะดะฐะฝะฝัะผะธ
  - ะะฐััะพัะบะธ ัะพ ััะฐัะธััะธะบะพะน:
    - ๐ ะัะตะณะพ ัะฐะณะพะฒ (+ ะพะฑัะทะฐัะตะปัะฝัั)
    - ๐ฅ ะฃัะฐััะฝะธะบะพะฒ (+ ะฒ ะฟัะพัะตััะต/ะทะฐะฒะตััะธะปะธ)
    - ๐ ะัะพะณัะตัั (% ะทะฐะฒะตััะธะฒัะธั)
  - ะะปะพะบ "ะะตะนััะฒะธั":
    - ะะฝะพะฟะบะฐ "๐ฅ ะฃะฟัะฐะฒะปััั ััะฐััะฝะธะบะฐะผะธ ะบัััะฐ" โ `/curator/courses/:moduleId/learners`
    - ะะฝะพะฟะบะฐ "โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั ะบััั" โ `/curator/course/modules/:moduleId`
  - ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั (ะดะฐัั ัะพะทะดะฐะฝะธั/ะพะฑะฝะพะฒะปะตะฝะธั)
- ะะฝะพะฟะบะฐ "โ ะะฐะทะฐะด ะบ ัะฟะธัะบั ะบัััะพะฒ" โ `/curator/courses`

**ะัะธะผะตั ะธะฝัะตััะตะนัะฐ:**
```
โ ะะฐะทะฐะด ะบ ัะฟะธัะบั ะบัััะพะฒ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะะพะดัะปั 1: ะะฒะตะดะตะฝะธะต ะฒ ะฟะธัะฐะผะธะดั ะะธะฝัะพ   โ ะะพะดัะปั 1 โ
โ                                                    โ
โ ะะพะทะฝะฐะบะพะผััะตัั ั ะพัะฝะพะฒะฐะผะธ ะฟัะธะฝัะธะฟะฐ ะฟะธัะฐะผะธะดั ะะธะฝัะพ:  โ
โ ะบะฐะบ ะดะพะฝะพัะธัั ะณะปะฐะฒะฝัั ะผััะปั ัััะบะพ ะธ ะปะพะณะธัะฝะพ...      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ
โ ๐          โ โ ๐ฅ          โ โ ๐          โ
โ 6           โ โ 5           โ โ 60%         โ
โ ะัะตะณะพ ัะฐะณะพะฒ โ โ ะฃัะฐััะฝะธะบะพะฒ  โ โ ะัะพะณัะตัั    โ
โ 5 ะพะฑัะทะฐั.   โ โ 2 ะฒ ะฟัะพัะตััะตโ โ % ะทะฐะฒะตััะธะปะธ โ
โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโ

ะะตะนััะฒะธั:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฅ ะฃะฟัะฐะฒะปััั ััะฐััะฝะธะบะฐะผะธ             โ โ
โ ะัะพัะผะพัั ัะฟะธัะบะฐ ััะฐััะฝะธะบะพะฒ, ะพัะบัััะธะต โ
โ ะดะพัััะฟะฐ ะบ ะบัััั                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั ะบััั                 โ โ
โ ะะทะผะตะฝะธัั ะฝะฐะทะฒะฐะฝะธะต, ะพะฟะธัะฐะฝะธะต, ะดะพะฑะฐะฒะธััโ
โ ะธะปะธ ัะดะฐะปะธัั ัะฐะณะธ                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 3. CuratorLayout + CuratorTabBar

**ะะพะฒัะต ะบะพะผะฟะพะฝะตะฝัั:**
- `CuratorLayout` โ ะพะฑะพัะฐัะธะฒะฐะตั ะฒัะต ะบััะฐัะพััะบะธะต ัััะฐะฝะธัั
- `CuratorTabBar` โ ัะฐะฑ-ะฝะฐะฒะธะณะฐัะธั (sticky header)

**ะกััะฐะฝะธัั ั ัะฐะฑะฐะผะธ:**
- ะัะต `/curator/*` ัะพััั
- ะขะฐะฑั ะฒัะตะณะดะฐ ะฒะธะดะฝั ะธ ะฟะพะทะฒะพะปััั ะฑััััะพ ะฟะตัะตะบะปััะฐัััั ะผะตะถะดั ัะฐะทะดะตะปะฐะผะธ

---

## ะะทะผะตะฝะตะฝะธั ะฒ backend

### API ะพะฑะฝะพะฒะปะตะฝะธะน:

**ะญะฝะดะฟะพะธะฝั:** `GET /admin/course/modules`

**ะัะปะพ:**
```json
[
  {
    "id": "uuid",
    "title": "...",
    "_count": {
      "steps": 6
    }
  }
]
```

**ะกัะฐะปะพ:**
```json
[
  {
    "id": "uuid",
    "title": "...",
    "stepsCount": 6,
    "enrollmentsCount": 5
  }
]
```

**ะคะฐะนะป:** `backend/src/course/course-admin.service.ts` โ `findAllModules()`

---

## ะะฐัััััั ะดะปั ะบััะฐัะพัะพะฒ

### ะะพะฒัะต ะผะฐัััััั:

```
/curator/courses                           - ะกะฟะธัะพะบ ะฒัะตั ะบัััะพะฒ (ะณะปะฐะฒะฝะฐั ะดะปั ะบััะฐัะพัะฐ)
/curator/courses/:moduleId                 - ะะตัะฐะปัะฝัะน ะดะฐัะฑะพัะด ะบัััะฐ
/curator/courses/:moduleId/learners        - ะฃัะฐััะฝะธะบะธ ะบะพะฝะบัะตัะฝะพะณะพ ะบัััะฐ (ะฑัะดััะตะต)
/curator                                   - ะกะฟะธัะพะบ ะฒัะตั ะพะฑััะฐััะธััั
/curator/users/:userId                     - ะะตัะฐะปัะฝะฐั ัััะฐะฝะธัะฐ ะพะฑััะฐััะตะณะพัั
/curator/course                            - ะะพะฝััััะบัะพั ะบัััะฐ (ะณะปะพะฑะฐะปัะฝัะน)
/curator/course/modules/:moduleId          - ะะตะดะฐะบัะพั ะผะพะดัะปั
/curator/course/modules/:moduleId/steps    - ะกะฟะธัะพะบ ัะฐะณะพะฒ ะผะพะดัะปั
... (ะพััะฐะปัะฝัะต ัะพััั ะบะพะฝััััะบัะพัะฐ)
```

### ะกัะฐััะพะฒัะต ัััะฐะฝะธัั ะฟะพ ัะพะปัะผ:

- **LEARNER**: `/dashboard`
- **CURATOR/ADMIN**: `/curator/courses` โจ (ะธะทะผะตะฝะตะฝะพ ั `/curator`)

---

## ะคะฐะนะปั ะธะทะผะตะฝะตะฝะธะน

### Frontend (TMA):

**ะะพะฒัะต ัะฐะนะปั:**
- `tma/src/pages/curator/CuratorCoursesDashboardPage.tsx` + `.css` โ ัะฟะธัะพะบ ะบัััะพะฒ
- `tma/src/pages/curator/CourseDashboardPage.tsx` + `.css` โ ะดะตัะฐะปัะฝะฐั ัััะฐะฝะธัะฐ ะบัััะฐ
- `tma/src/components/CuratorLayout.tsx` + `.css` โ layout ั ัะฐะฑะฐะผะธ
- `tma/src/components/CuratorTabBar.tsx` + `.css` โ ัะฐะฑ-ะฝะฐะฒะธะณะฐัะธั

**ะะฑะฝะพะฒะปัะฝะฝัะต ัะฐะนะปั:**
- `tma/src/App.tsx` โ ะฝะพะฒัะต ัะพััั ะธ CuratorLayout
- `tma/src/pages/LoginPage.tsx` โ ัะตะดะธัะตะบั ะฝะฐ `/curator/courses`
- `tma/src/components/ProtectedRoute.tsx` โ ัะตะดะธัะตะบั ะฝะฐ `/curator/courses`

### Backend:

**ะะฑะฝะพะฒะปัะฝะฝัะต ัะฐะนะปั:**
- `backend/src/course/course-admin.service.ts` โ ะดะพะฑะฐะฒะปะตะฝ `stepsCount` ะธ `enrollmentsCount`

---

## ะะฐะทะฒััััะฒะฐะฝะธะต ะฝะฐ VPS

```bash
# 1. ะะพะดะบะปััะตะฝะธะต ะบ VPS
ssh root@79.132.140.13

# 2. ะะตัะตะนัะธ ะฒ ะฟัะพะตะบั
cd /var/www/tma_education

# 3. ะะพะปััะธัั ะพะฑะฝะพะฒะปะตะฝะธั
git pull

# 4. ะะตัะตัะพะฑัะฐัั backend
cd backend
npm run build
pm2 restart minto-backend

# 5. ะะตัะตัะพะฑัะฐัั TMA
cd /var/www/tma_education/tma
npm run build

# 6. ะัะพะฒะตัะธัั ััะฐััั
pm2 status

# 7. ะัะพะฒะตัะธัั ัะฐะฑะพัั
# ะัะบัะพะนัะต TMA ะบะฐะบ ะบััะฐัะพั (telegram_id: 7017219152 ะธะปะธ 447493564)
```

---

## ะัะพะฒะตัะบะฐ ัะฐะฑะพัั

### 1. ะัะพะด ะบะฐะบ ะบััะฐัะพั:
1. ะัะบัะพะนัะต ะฑะพัะฐ ะฒ Telegram (ะพั ะฐะบะบะฐัะฝัะฐ ะบััะฐัะพัะฐ)
2. ะัะฟัะฐะฒััะต `/start`
3. ะะฐะถะผะธัะต "ะัะบัััั ััะตะฑะฝะพะต ะฟัะธะปะพะถะตะฝะธะต"
4. ะะพะปะถะฝะฐ ะพัะบัััััั ัััะฐะฝะธัะฐ `/curator/courses` (ะดะฐัะฑะพัะด ะบัััะพะฒ)

### 2. ะะฐะฒะธะณะฐัะธั:
1. ะะธะดะธัะต ัะฐะฑั: **ะัััั** (ะฐะบัะธะฒะฝะฐ) | ะะฑััะฐััะธะตัั | ะะพะฝััััะบัะพั
2. ะะธะดะธัะต ะบะฐััะพัะบะธ ะบัััะพะฒ (ะะพะดัะปั 1, ะะพะดัะปั 2, ะะพะดัะปั 3, ะญะบะทะฐะผะตะฝ)
3. ะะฐ ะบะฐะถะดะพะน ะบะฐััะพัะบะต: ะฝะฐะทะฒะฐะฝะธะต, ะพะฟะธัะฐะฝะธะต, ะบะพะปะธัะตััะฒะพ ัะฐะณะพะฒ, ััะฐััะฝะธะบะพะฒ

### 3. ะะตัะฐะปัะฝัะน ะดะฐัะฑะพัะด ะบัััะฐ:
1. ะะปะธะบะฝะธัะต ะฝะฐ ะปัะฑัั ะบะฐััะพัะบั ะบัััะฐ
2. ะัะบัะพะตััั `/curator/courses/:moduleId`
3. ะะธะดะธัะต:
   - ะะฐะทะฒะฐะฝะธะต ะธ ะพะฟะธัะฐะฝะธะต ะบัััะฐ
   - 3 ะบะฐััะพัะบะธ ัะพ ััะฐัะธััะธะบะพะน (ัะฐะณะธ, ััะฐััะฝะธะบะธ, ะฟัะพะณัะตัั)
   - ะะฝะพะฟะบะธ: "ะฃะฟัะฐะฒะปััั ััะฐััะฝะธะบะฐะผะธ" ะธ "ะะตะดะฐะบัะธัะพะฒะฐัั ะบััั"
   - ะะฝะพะฟะบะฐ "โ ะะฐะทะฐะด ะบ ัะฟะธัะบั ะบัััะพะฒ"

### 4. ะะตัะตัะพะด ะฒ ัะตะดะฐะบัะพั:
1. ะะฐะถะผะธัะต "ะะตะดะฐะบัะธัะพะฒะฐัั ะบััั"
2. ะัะบัะพะตััั ัะตะดะฐะบัะพั ะผะพะดัะปั ะธะท ะบะพะฝััััะบัะพัะฐ
3. ะะพะถะตัะต ัะตะดะฐะบัะธัะพะฒะฐัั ะฝะฐะทะฒะฐะฝะธะต, ะพะฟะธัะฐะฝะธะต, ะดะพะฑะฐะฒะปััั ัะฐะณะธ

---

## ะะธะทัะฐะปัะฝัะน ะดะธะทะฐะนะฝ

- โ ะกะพะฒัะตะผะตะฝะฝัะต ะณัะฐะดะธะตะฝัั ะธ ัะตะฝะธ
- โ Hover ัััะตะบัั ะฝะฐ ะบะฐััะพัะบะฐั
- โ Sticky ัะฐะฑ-ะฑะฐั
- โ ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ ะดะปั ะผะพะฑะธะปัะฝัั
- โ ะะบะพะฝะบะธ ะดะปั ะฒะธะทัะฐะปัะฝะพะน ะฝะฐะฒะธะณะฐัะธะธ
- โ ะะดะธะฝะพะพะฑัะฐะทะฝัะน UI ะฝะฐ ะฒัะตั ัััะฐะฝะธัะฐั ะบััะฐัะพัะพะฒ

---

**ะะตััะธั:** 3.0  
**ะะฐัะฐ:** 2025-11-29  
**ะะทะผะตะฝะตะฝะธั:** ะะฐะฒะธะณะฐัะธั ะดะปั ะบััะฐัะพัะพะฒ, ะดะฐัะฑะพัะด ะบัััะพะฒ, ะดะตัะฐะปัะฝะฐั ัััะฐะฝะธัะฐ ะบัััะฐ

