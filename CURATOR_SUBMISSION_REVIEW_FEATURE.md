# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç (submissions) –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–¥–∞—á–∏ (–æ—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞, –æ—Ü–µ–Ω–∫—É –ò–ò, –∑–∞–¥–∞–Ω–∏–µ)
- –í—ã—Å—Ç–∞–≤–ª—è—Ç—å —Å–≤–æ—é –æ—Ü–µ–Ω–∫—É –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –û–¥–æ–±—Ä—è—Ç—å —Ä–∞–±–æ—Ç—É –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Backend

#### 1. –ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π —Å–¥–∞—á–∏

**–§–∞–π–ª:** `backend/src/submissions/admin.controller.ts`

```typescript
GET /admin/submissions/:id
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–¥–∞—á–µ
- –î–∞–Ω–Ω—ã–µ —É—á–µ–Ω–∏–∫–∞ (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–¥—É–ª–µ –∏ —à–∞–≥–µ
- –û—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞ (—Ç–µ–∫—Å—Ç / file_id)
- –û—Ü–µ–Ω–∫—É –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ò–ò
- –û—Ü–µ–Ω–∫—É –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω—ã)
- –°—Ç–∞—Ç—É—Å, –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–µ–π `CURATOR` –∏ `ADMIN`

#### 2. –û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `findById` –≤ `SubmissionsService`

**–§–∞–π–ª:** `backend/src/submissions/submissions.service.ts`

–¢–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —à–∞–≥–∞:
- `type` ‚Äî —Ç–∏–ø —à–∞–≥–∞ (INFO, TASK, QUIZ, EXAM)
- `content` ‚Äî —Ç–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è
- `maxScore` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ (–¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- `formSchema` ‚Äî —Å—Ö–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `expectedAnswer` ‚Äî –æ–∂–∏–¥–∞–µ–º—ã–π —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞

–ê —Ç–∞–∫–∂–µ –ø–æ–ª–µ `position` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### 3. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—É–∂–µ –±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

```typescript
POST /admin/submissions/:id/approve
Body: { curatorScore: number, curatorFeedback?: string }
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ—Ü–µ–Ω–∫–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..maxScore
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status = CURATOR_APPROVED`
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `curatorScore` –∏ `curatorFeedback`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫—É
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à—ë–Ω –ª–∏ –º–æ–¥—É–ª—å (–µ—Å–ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –æ–¥–æ–±—Ä–µ–Ω—ã)

```typescript
POST /admin/submissions/:id/return
Body: { curatorFeedback: string }
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status = CURATOR_RETURNED`
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `curatorFeedback`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫—É
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —É—á–µ–Ω–∏–∫—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ

### Frontend (TMA)

#### 1. –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω `CuratorSubmissionPage`

**–§–∞–π–ª:** `tma/src/pages/curator/CuratorSubmissionPage.tsx`

**–ú–∞—Ä—à—Ä—É—Ç:** `/curator/submissions/:submissionId`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

**–ë–ª–æ–∫ 1: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–∞—á–µ**
- –ò–º—è —É—á–µ–Ω–∏–∫–∞, –¥–æ–ª–∂–Ω–æ—Å—Ç—å
- –ú–æ–¥—É–ª—å –∏ —à–∞–≥
- –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (—Å —Ü–≤–µ—Ç–Ω—ã–º –±–µ–π–¥–∂–µ–º)
- –î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (–µ—Å–ª–∏ `resubmissionRequested = true`)

**–ë–ª–æ–∫ 2: –ó–∞–¥–∞–Ω–∏–µ**
- –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è (–∏–∑ `step.content`)

**–ë–ª–æ–∫ 3: –û—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞**
- **–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è formSchema:**
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã —Å –æ—Ç–≤–µ—Ç–∞–º–∏ —É—á–µ–Ω–∏–∫–∞
  - –ü–∞—Ä—Å–∏—Ç JSON –∏–∑ `answerText`
  
- **–ï—Å–ª–∏ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç:**
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `answerText` –≤ —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º –±–ª–æ–∫–µ
  
- **–ï—Å–ª–∏ —Ñ–∞–π–ª/–∞—É–¥–∏–æ/–≤–∏–¥–µ–æ:**
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞ –∏ `file_id`
  - –ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ —Ç–æ–º, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª —á–µ—Ä–µ–∑ Telegram API

**–ë–ª–æ–∫ 4: –û—Ü–µ–Ω–∫–∞ –ò–ò** (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û—Ü–µ–Ω–∫–∞: `aiScore/maxScore`
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ò–ò: `aiFeedback`

**–ë–ª–æ–∫ 5: –†–µ—à–µ–Ω–∏–µ –∫—É—Ä–∞—Ç–æ—Ä–∞** (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –æ—Ü–µ–Ω–∫–∏ (number input, 0..maxScore)
- Textarea –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ö–Ω–æ–ø–∫–∞ "‚úÖ –û–¥–æ–±—Ä–∏—Ç—å" ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `POST /admin/submissions/:id/approve`
- –ö–Ω–æ–ø–∫–∞ "üîÑ –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É" ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç `POST /admin/submissions/:id/return`

**–ë–ª–æ–∫ 6: –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏** (–µ—Å–ª–∏ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
- –û—Ü–µ–Ω–∫–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞
- –°—Ç–∞—Ç—É—Å (CURATOR_APPROVED / CURATOR_RETURNED)

**–õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–æ–∫:**
- **–û–¥–æ–±—Ä–∏—Ç—å:**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: –æ—Ü–µ–Ω–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..maxScore
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ: alert "‚úÖ –†–∞–±–æ—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∞!" –∏ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  - –ü—Ä–∏ –æ—à–∏–±–∫–µ: –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

- **–í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É:**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
  - –ü—Ä–∏ —É—Å–ø–µ—Ö–µ: alert "üîÑ –†–∞–±–æ—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É" –∏ –≤–æ–∑–≤—Ä–∞—Ç
  - –ü—Ä–∏ –æ—à–∏–±–∫–µ: –ø–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

#### 2. –û–±–Ω–æ–≤–ª—ë–Ω `CuratorUserPage`

**–§–∞–π–ª:** `tma/src/pages/CuratorUserPage.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–¥–∞—á —Ç–µ–ø–µ—Ä—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ (–¥–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å `.clickable`)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/curator/submissions/:submissionId`
- Hover-—ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏

**–§–∞–π–ª:** `tma/src/pages/CuratorUserPage.css`

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è `.clickable` –∫–∞—Ä—Ç–æ—á–µ–∫:
- `cursor: pointer`
- Hover-—ç—Ñ—Ñ–µ–∫—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ñ–æ–Ω–∞
- Active-—ç—Ñ—Ñ–µ–∫—Ç —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–§–∞–π–ª:** `tma/src/pages/curator/CuratorSubmissionPage.css`

–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ç–∏–ª–µ–π –¥–ª—è –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ (`.info-row`, `.info-label`, `.info-value`)
- –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (`.status-badge`, `.status-sent`, `.status-approved` –∏ —Ç.–¥.)
- –ë–ª–æ–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ (`.answer-text`, `.form-answers`, `.answer-file`)
- –ë–ª–æ–∫ –ò–ò (`.ai-review-card` —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π)
- –§–æ—Ä–º–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞ (`.curator-decision-card` —Å —Å–∏–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ–π)
- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (`.finalized-card` —Å –∑–µ–ª—ë–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π)
- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (`.action-buttons`, `.btn-danger`)

#### 4. –û–±–Ω–æ–≤–ª—ë–Ω –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä

**–§–∞–π–ª:** `tma/src/App.tsx`

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç:
```tsx
<Route
  path="/curator/submissions/:submissionId"
  element={
    <ProtectedRoute allowedRoles={['CURATOR', 'ADMIN']}>
      <CuratorLayout>
        <CuratorSubmissionPage />
      </CuratorLayout>
    </ProtectedRoute>
  }
/>
```

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
bash DEPLOY_CURATOR_SUBMISSION_REVIEW.sh
```

### –†—É—á–Ω–æ–µ

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
cd backend
npm run build

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
pm2 restart minto-backend

# 4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å TMA
cd ../tma
npm run build

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs minto-backend --lines 30
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ö–∞–∫ –∫—É—Ä–∞—Ç–æ—Ä (CURATOR/ADMIN):

1. **–û—Ç–∫—Ä–æ–π—Ç–µ TMA –∫–∞–∫ –∫—É—Ä–∞—Ç–æ—Ä**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–£—á–µ–Ω–∏–∫–∏"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–≥–æ —É—á–µ–Ω–∏–∫–∞**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–ª–æ–∫ "–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–∞—á–∏":**
   - ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–¥–∞—á –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏
   - ‚úÖ –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞
   - ‚úÖ –ü—Ä–∏ –∫–ª–∏–∫–µ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–≤–µ—Ä–∫–∏

5. **–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (`/curator/submissions/:id`):**
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–∞—á–µ
   - ‚úÖ –í–∏–¥–Ω–æ –∑–∞–¥–∞–Ω–∏–µ (—Ç–µ–∫—Å—Ç –∏–∑ `step.content`)
   - ‚úÖ –í–∏–¥–Ω–æ –æ—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞:
     - –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π ‚Äî –≤ —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º –±–ª–æ–∫–µ
     - –ï—Å–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ ‚Äî –≤—Å–µ –ø–æ–ª—è —Å –æ—Ç–≤–µ—Ç–∞–º–∏
     - –ï—Å–ª–∏ —Ñ–∞–π–ª ‚Äî —Ç–∏–ø –∏ file_id
   - ‚úÖ –í–∏–¥–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –ò–ò (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - ‚úÖ –§–æ—Ä–º–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
   - ‚úÖ –ö–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É" —Ä–∞–±–æ—Ç–∞—é—Ç

6. **–û–¥–æ–±—Ä–∏—Ç–µ —Ä–∞–±–æ—Ç—É:**
   - –í–≤–µ–¥–∏—Ç–µ –æ—Ü–µ–Ω–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8)
   - –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ù–∞–∂–º–∏—Ç–µ "‚úÖ –û–¥–æ–±—Ä–∏—Ç—å"
   - **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
     - ‚úÖ –ü–æ—è–≤–∏–ª—Å—è alert "‚úÖ –†–∞–±–æ—Ç–∞ –æ–¥–æ–±—Ä–µ–Ω–∞!"
     - ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
     - ‚úÖ –°—Ç–∞—Ç—É—Å —Å–¥–∞—á–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ `CURATOR_APPROVED`
     - ‚úÖ –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∏–ª Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

7. **–í–µ—Ä–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É:**
   - –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é —Å–¥–∞—á—É
   - –í–≤–µ–¥–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ù–∞–∂–º–∏—Ç–µ "üîÑ –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É"
   - **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
     - ‚úÖ –ü–æ—è–≤–∏–ª—Å—è alert "üîÑ –†–∞–±–æ—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É"
     - ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
     - ‚úÖ –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ `CURATOR_RETURNED`
     - ‚úÖ –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
     - ‚úÖ –£—á–µ–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ

### –ö–∞–∫ —É—á–µ–Ω–∏–∫ (LEARNER):

1. **–û—Ç–∫—Ä–æ–π—Ç–µ TMA –∫–∞–∫ —É—á–µ–Ω–∏–∫**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–º—É –∑–∞–¥–∞–Ω–∏—é**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - ‚úÖ –í–∏–¥–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞)
   - ‚úÖ –í–∏–¥–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - ‚úÖ –°—Ç–∞—Ç—É—Å "‚úÖ –û–¥–æ–±—Ä–µ–Ω–æ" –∏–ª–∏ "üîÑ –í–æ–∑–≤—Ä–∞—â–µ–Ω–æ"
   - ‚úÖ –ù–ï –≤–∏–¥–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ò–ò (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤)

4. **–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞:**
   - ‚úÖ –í–∏–¥–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞ —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏
   - ‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É" (–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ)

## üéØ –ü–æ–ª—å–∑–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –î–ª—è –∫—É—Ä–∞—Ç–æ—Ä–æ–≤:
- ‚úÖ **–£–¥–æ–±–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞:** –í–∏–¥–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –ò–ò –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å:** –ú–æ–∂–Ω–æ –æ–¥–æ–±—Ä–∏—Ç—å –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –í—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ **–ú–æ–±–∏–ª—å–Ω–æ—Å—Ç—å:** –£–¥–æ–±–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### –î–ª—è —É—á–µ–Ω–∏–∫–æ–≤:
- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** –í–∏–¥–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å:** –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ ‚Äî –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Telegram-—Å–æ–æ–±—â–µ–Ω–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ **–ú–æ—Ç–∏–≤–∞—Ü–∏—è:** –ü–æ–Ω—è—Ç–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

## üìù –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã (Flow)

```
1. –£—á–µ–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç
   ‚Üì
2. –ò–ò –ø—Ä–æ–≤–µ—Ä—è–µ—Ç (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è) ‚Üí AI_REVIEWED
   ‚Üì
3. –ö—É—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
   ‚Üì
4. –ö—É—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç TMA ‚Üí "–£—á–µ–Ω–∏–∫–∏" ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç —É—á–µ–Ω–∏–∫–∞
   ‚Üì
5. –ö—É—Ä–∞—Ç–æ—Ä –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ —Å–¥–∞—á—É ‚Üí CuratorSubmissionPage
   ‚Üì
6. –ö—É—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç:
   - –û—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞
   - –û—Ü–µ–Ω–∫—É –ò–ò
   - –ó–∞–¥–∞–Ω–∏–µ
   ‚Üì
7. –ö—É—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ:
   
   a) –û–¥–æ–±—Ä–∏—Ç—å:
      - –í—ã—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ü–µ–Ω–∫—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
      - –ü–∏—à–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
      - –ù–∞–∂–∏–º–∞–µ—Ç "‚úÖ –û–¥–æ–±—Ä–∏—Ç—å"
      ‚Üì
      - Status ‚Üí CURATOR_APPROVED
      - –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–æ–¥—É–ª—è
   
   b) –í–µ—Ä–Ω—É—Ç—å:
      - –ü–∏—à–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
      - –ù–∞–∂–∏–º–∞–µ—Ç "üîÑ –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É"
      ‚Üì
      - Status ‚Üí CURATOR_RETURNED
      - –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      - –£—á–µ–Ω–∏–∫ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ
```

## üîí –ó–∞—â–∏—Ç–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### Backend:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π:** –¢–æ–ª—å–∫–æ CURATOR –∏ ADMIN –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–±–æ—Ç—ã
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–∫–∏:** –û—Ü–µ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..maxScore —à–∞–≥–∞
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:** –ù–µ–ª—å–∑—è –æ–¥–æ–±—Ä–∏—Ç—å —É–∂–µ –æ–¥–æ–±—Ä–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (updatedAt, status)

### Frontend:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏:** –ú–∞—Ä—à—Ä—É—Ç `/curator/submissions/:id` –∑–∞—â–∏—â—ë–Ω ProtectedRoute
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã:**
   - –û–¥–æ–±—Ä–µ–Ω–∏–µ: –æ—Ü–µ–Ω–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞, –¥–∏–∞–ø–∞–∑–æ–Ω 0..maxScore
   - –í–æ–∑–≤—Ä–∞—Ç: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
3. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:** –ö–Ω–æ–ø–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ (disabled)
4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:** Alerts —á–µ—Ä–µ–∑ Telegram.WebApp.showAlert

## üìÇ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend:
1. `backend/src/submissions/admin.controller.ts` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω `GET /admin/submissions/:id`
2. `backend/src/submissions/submissions.service.ts` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `findById`

### Frontend (TMA):
1. `tma/src/pages/curator/CuratorSubmissionPage.tsx` ‚Äî –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏
2. `tma/src/pages/curator/CuratorSubmissionPage.css` ‚Äî —Å—Ç–∏–ª–∏ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
3. `tma/src/pages/CuratorUserPage.tsx` ‚Äî –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–¥–∞—á
4. `tma/src/pages/CuratorUserPage.css` ‚Äî —Å—Ç–∏–ª–∏ –¥–ª—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫
5. `tma/src/App.tsx` ‚Äî –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç `/curator/submissions/:submissionId`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
1. `CURATOR_SUBMISSION_REVIEW_FEATURE.md` ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª
2. `DEPLOY_CURATOR_SUBMISSION_REVIEW.sh` ‚Äî —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ (formSchema)
–ï—Å–ª–∏ —à–∞–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `formSchema`, –æ—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞ –ø–∞—Ä—Å–∏—Ç—Å—è –∏–∑ JSON –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª–µ–π —Å –æ—Ç–≤–µ—Ç–∞–º–∏:
```tsx
–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è: –ó–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
–î—Ä—É–≥–æ–µ –ø–æ–ª–µ: –î—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```

### 2. –¢–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤:
- **TEXT** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç
- **FILE** ‚Äî —Ñ–∞–π–ª (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è file_id)
- **AUDIO** ‚Äî –∞—É–¥–∏–æ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è file_id)
- **VIDEO** ‚Äî –≤–∏–¥–µ–æ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è file_id)

### 3. –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- **–°–∏–Ω–∏–π** ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–∞—á–µ
- **–§–∏–æ–ª–µ—Ç–æ–≤—ã–π** ‚Äî –±–ª–æ–∫ –ò–ò
- **–°–∏–Ω–∏–π** ‚Äî —Ñ–æ—Ä–º–∞ –∫—É—Ä–∞—Ç–æ—Ä–∞
- **–ó–µ–ª—ë–Ω—ã–π** ‚Äî –æ–¥–æ–±—Ä–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- **–û—Ä–∞–Ω–∂–µ–≤—ã–π** ‚Äî –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### 4. –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞
- –£–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (–±–æ–ª—å—à–∏–µ –æ–±–ª–∞—Å—Ç–∏ –∫–ª–∏–∫–∞)
- –ß–∏—Ç–∞–µ–º—ã–µ —à—Ä–∏—Ñ—Ç—ã
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω

