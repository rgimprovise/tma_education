#!/bin/bash

# –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –®–∞–≥–∞ 5: –ü–æ–ª–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –∫—É—Ä—Å–∞
# –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ TMA (frontend), backend –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

set -e  # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ

echo "üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ: –®–∞–≥ 5 - –î–∞—à–±–æ—Ä–¥ –∫—É—Ä—Å–∞"
echo "========================================"

# 1. –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
echo ""
echo "üì• –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ Git..."
git pull

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å TMA
echo ""
echo "üé® –°–±–æ—Ä–∫–∞ TMA (frontend)..."
cd tma
npm run build

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
echo ""
echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ TMA..."
curl -I https://tma.n8nrgimprovise.space | head -1

echo ""
echo "üéâ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo ""
echo "üìã –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:"
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ TMA –∫–∞–∫ –∫—É—Ä–∞—Ç–æ—Ä"
echo "2. –í–∫–ª–∞–¥–∫–∞ '–ö—É—Ä—Å—ã' ‚Üí '–ü–∏—Ä–∞–º–∏–¥–∞ –ú–∏–Ω—Ç–æ'"
echo "3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:"
echo "   - –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å 4 –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ (–º–æ–¥—É–ª–∏, —à–∞–≥–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –æ—Ç–∫—Ä—ã—Ç—ã–µ –º–æ–¥—É–ª–∏)"
echo "   - –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–¥—É–ª–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º üîì –û—Ç–∫—Ä—ã—Ç / üîí –ó–∞–∫—Ä—ã—Ç"
echo "   - –î–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ: '–û—Ç–∫—Ä—ã—Ç—å –¥–ª—è –≤—Å–µ—Ö' –∏ '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å'"
echo ""
echo "üìä –î–∞—à–±–æ—Ä–¥ –∫—É—Ä—Å–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É!"

